# Линтинг и форматирование кода

## Установленные инструменты

- **ESLint v9** - статический анализ кода TypeScript
- **Prettier** - автоматическое форматирование кода
- **TypeScript ESLint** - правила для TypeScript кода

## Доступные команды

### ESLint

```bash
# Проверить весь код на ошибки
npm run lint

# Автоматически исправить ошибки
npm run lint:fix
```

### Prettier

```bash
# Отформатировать весь код
npm run format

# Проверить форматирование без изменений
npm run format:check
```

## Основные правила

### Порядок импортов

1. Встроенные модули Node.js (fs, path, crypto)
2. Внешние библиотеки (fastify, sequelize)
3. Внутренние модули:
   - #Infrastructure/*
   - #Lib/*
   - #Shared/*
   - #App/*
4. Локальные относительные импорты (../, ./)

Импорты автоматически сортируются по алфавиту внутри каждой группы.

### Стиль кода

- **Отступы**: 2 пробела
- **Кавычки**: одинарные ('text')
- **Точка с запятой**: обязательна
- **Максимальная длина строки**: 120 символов
- **Trailing comma**: всегда в многострочных объектах/массивах
- **Пустая строка в конце файла**: обязательна

### TypeScript правила

- Явное указание типов возвращаемых значений функций (предупреждение)
- Запрет на `any` (предупреждение, лучше использовать `unknown`)
- Обработка промисов (обязательно await или .catch)
- Неиспользуемые переменные начинаются с `_`

## VS Code интеграция

Если вы используете VS Code, установите рекомендуемые расширения:

1. ESLint (dbaeumer.vscode-eslint)
2. Prettier (esbenp.prettier-vscode)

Настройки уже сконфигурированы в `.vscode/settings.json`:
- Автоформатирование при сохранении
- Автоисправление ESLint ошибок при сохранении

## Игнорируемые файлы

Следующие файлы и директории игнорируются линтером:

- node_modules/
- dist/
- *.js (JavaScript файлы)
- *.mjs (ES модули)
- *.d.ts (файлы деклараций TypeScript)
- esbuild.mjs, esbuild.migrations.mjs

## Перед коммитом

Рекомендуется запускать перед каждым коммитом:

```bash
npm run lint:fix && npm run format
```

Это автоматически исправит большинство проблем с форматированием и стилем кода.
